(function(e){function t(t){for(var s,a,o=t[0],c=t[1],u=t[2],l=0,p=[];l<o.length;l++)a=o[l],Object.prototype.hasOwnProperty.call(i,a)&&i[a]&&p.push(i[a][0]),i[a]=0;for(s in c)Object.prototype.hasOwnProperty.call(c,s)&&(e[s]=c[s]);d&&d(t);while(p.length)p.shift()();return n.push.apply(n,u||[]),r()}function r(){for(var e,t=0;t<n.length;t++){for(var r=n[t],s=!0,o=1;o<r.length;o++){var c=r[o];0!==i[c]&&(s=!1)}s&&(n.splice(t--,1),e=a(a.s=r[0]))}return e}var s={},i={app:0},n=[];function a(t){if(s[t])return s[t].exports;var r=s[t]={i:t,l:!1,exports:{}};return e[t].call(r.exports,r,r.exports,a),r.l=!0,r.exports}a.m=e,a.c=s,a.d=function(e,t,r){a.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},a.r=function(e){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},a.t=function(e,t){if(1&t&&(e=a(e)),8&t)return e;if(4&t&&"object"===typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(a.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var s in e)a.d(r,s,function(t){return e[t]}.bind(null,s));return r},a.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return a.d(t,"a",t),t},a.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},a.p="/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=t,o=o.slice();for(var u=0;u<o.length;u++)t(o[u]);var d=c;n.push([0,"chunk-vendors"]),r()})({0:function(e,t,r){e.exports=r("56d7")},"0f96":function(e,t,r){"use strict";var s=r("1892"),i=r("8dd1"),n=r("2877"),a=Object(n["a"])(i["default"],s["a"],s["b"],!1,null,null,null);t["default"]=a.exports},1:function(e,t){},1892:function(e,t,r){"use strict";r.d(t,"a",(function(){return s})),r.d(t,"b",(function(){return i}));var s=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"home-page"},[r("router-link",{staticClass:"boards-btn",attrs:{to:"/board"}},[e._v("Go to boards :D")])],1)},i=[]},2307:function(e,t,r){e.exports=r.p+"img/bg6.9b705065.jpg"},"3c61":function(e,t,r){},"3edc":function(e,t){},4678:function(e,t,r){var s={"./af":"2bfb","./af.js":"2bfb","./ar":"8e73","./ar-dz":"a356","./ar-dz.js":"a356","./ar-kw":"423e","./ar-kw.js":"423e","./ar-ly":"1cfd","./ar-ly.js":"1cfd","./ar-ma":"0a84","./ar-ma.js":"0a84","./ar-sa":"8230","./ar-sa.js":"8230","./ar-tn":"6d83","./ar-tn.js":"6d83","./ar.js":"8e73","./az":"485c","./az.js":"485c","./be":"1fc1","./be.js":"1fc1","./bg":"84aa","./bg.js":"84aa","./bm":"a7fa","./bm.js":"a7fa","./bn":"9043","./bn-bd":"9686","./bn-bd.js":"9686","./bn.js":"9043","./bo":"d26a","./bo.js":"d26a","./br":"6887","./br.js":"6887","./bs":"2554","./bs.js":"2554","./ca":"d716","./ca.js":"d716","./cs":"3c0d","./cs.js":"3c0d","./cv":"03ec","./cv.js":"03ec","./cy":"9797","./cy.js":"9797","./da":"0f14","./da.js":"0f14","./de":"b469","./de-at":"b3eb","./de-at.js":"b3eb","./de-ch":"bb71","./de-ch.js":"bb71","./de.js":"b469","./dv":"598a","./dv.js":"598a","./el":"8d47","./el.js":"8d47","./en-au":"0e6b","./en-au.js":"0e6b","./en-ca":"3886","./en-ca.js":"3886","./en-gb":"39a6","./en-gb.js":"39a6","./en-ie":"e1d3","./en-ie.js":"e1d3","./en-il":"7333","./en-il.js":"7333","./en-in":"ec2e","./en-in.js":"ec2e","./en-nz":"6f50","./en-nz.js":"6f50","./en-sg":"b7e9","./en-sg.js":"b7e9","./eo":"65db","./eo.js":"65db","./es":"898b","./es-do":"0a3c","./es-do.js":"0a3c","./es-mx":"b5b7","./es-mx.js":"b5b7","./es-us":"55c9","./es-us.js":"55c9","./es.js":"898b","./et":"ec18","./et.js":"ec18","./eu":"0ff2","./eu.js":"0ff2","./fa":"8df4","./fa.js":"8df4","./fi":"81e9","./fi.js":"81e9","./fil":"d69a","./fil.js":"d69a","./fo":"0721","./fo.js":"0721","./fr":"9f26","./fr-ca":"d9f8","./fr-ca.js":"d9f8","./fr-ch":"0e49","./fr-ch.js":"0e49","./fr.js":"9f26","./fy":"7118","./fy.js":"7118","./ga":"5120","./ga.js":"5120","./gd":"f6b4","./gd.js":"f6b4","./gl":"8840","./gl.js":"8840","./gom-deva":"aaf2","./gom-deva.js":"aaf2","./gom-latn":"0caa","./gom-latn.js":"0caa","./gu":"e0c5","./gu.js":"e0c5","./he":"c7aa","./he.js":"c7aa","./hi":"dc4d","./hi.js":"dc4d","./hr":"4ba9","./hr.js":"4ba9","./hu":"5b14","./hu.js":"5b14","./hy-am":"d6b6","./hy-am.js":"d6b6","./id":"5038","./id.js":"5038","./is":"0558","./is.js":"0558","./it":"6e98","./it-ch":"6f12","./it-ch.js":"6f12","./it.js":"6e98","./ja":"079e","./ja.js":"079e","./jv":"b540","./jv.js":"b540","./ka":"201b","./ka.js":"201b","./kk":"6d79","./kk.js":"6d79","./km":"e81d","./km.js":"e81d","./kn":"3e92","./kn.js":"3e92","./ko":"22f8","./ko.js":"22f8","./ku":"2421","./ku.js":"2421","./ky":"9609","./ky.js":"9609","./lb":"440c","./lb.js":"440c","./lo":"b29d","./lo.js":"b29d","./lt":"26f9","./lt.js":"26f9","./lv":"b97c","./lv.js":"b97c","./me":"293c","./me.js":"293c","./mi":"688b","./mi.js":"688b","./mk":"6909","./mk.js":"6909","./ml":"02fb","./ml.js":"02fb","./mn":"958b","./mn.js":"958b","./mr":"39bd","./mr.js":"39bd","./ms":"ebe4","./ms-my":"6403","./ms-my.js":"6403","./ms.js":"ebe4","./mt":"1b45","./mt.js":"1b45","./my":"8689","./my.js":"8689","./nb":"6ce3","./nb.js":"6ce3","./ne":"3a39","./ne.js":"3a39","./nl":"facd","./nl-be":"db29","./nl-be.js":"db29","./nl.js":"facd","./nn":"b84c","./nn.js":"b84c","./oc-lnc":"167b","./oc-lnc.js":"167b","./pa-in":"f3ff","./pa-in.js":"f3ff","./pl":"8d57","./pl.js":"8d57","./pt":"f260","./pt-br":"d2d4","./pt-br.js":"d2d4","./pt.js":"f260","./ro":"972c","./ro.js":"972c","./ru":"957c","./ru.js":"957c","./sd":"6784","./sd.js":"6784","./se":"ffff","./se.js":"ffff","./si":"eda5","./si.js":"eda5","./sk":"7be6","./sk.js":"7be6","./sl":"8155","./sl.js":"8155","./sq":"c8f3","./sq.js":"c8f3","./sr":"cf1e","./sr-cyrl":"13e9","./sr-cyrl.js":"13e9","./sr.js":"cf1e","./ss":"52bd","./ss.js":"52bd","./sv":"5fbd","./sv.js":"5fbd","./sw":"74dc","./sw.js":"74dc","./ta":"3de5","./ta.js":"3de5","./te":"5cbb","./te.js":"5cbb","./tet":"576c","./tet.js":"576c","./tg":"3b1b","./tg.js":"3b1b","./th":"10e8","./th.js":"10e8","./tk":"5aff","./tk.js":"5aff","./tl-ph":"0f38","./tl-ph.js":"0f38","./tlh":"cf75","./tlh.js":"cf75","./tr":"0e81","./tr.js":"0e81","./tzl":"cf51","./tzl.js":"cf51","./tzm":"c109","./tzm-latn":"b53d","./tzm-latn.js":"b53d","./tzm.js":"c109","./ug-cn":"6117","./ug-cn.js":"6117","./uk":"ada2","./uk.js":"ada2","./ur":"5294","./ur.js":"5294","./uz":"2e8c","./uz-latn":"010e","./uz-latn.js":"010e","./uz.js":"2e8c","./vi":"2921","./vi.js":"2921","./x-pseudo":"fd7e","./x-pseudo.js":"fd7e","./yo":"7f33","./yo.js":"7f33","./zh-cn":"5c3a","./zh-cn.js":"5c3a","./zh-hk":"49ab","./zh-hk.js":"49ab","./zh-mo":"3a6c","./zh-mo.js":"3a6c","./zh-tw":"90ea","./zh-tw.js":"90ea"};function i(e){var t=n(e);return r(t)}function n(e){if(!r.o(s,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return s[e]}i.keys=function(){return Object.keys(s)},i.resolve=n,e.exports=i,i.id="4678"},"55b3":function(e,t,r){e.exports=r.p+"img/bg2.710006bb.jpg"},"56d7":function(e,t,r){"use strict";r.r(t);r("e260"),r("e6cf"),r("cca6"),r("a79d");var s,i=r("2b0e"),n=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{style:e.appStyle,attrs:{id:"app"}},[r("main-header",{attrs:{loggedinUserId:e.loggedinUser},on:{logout:e.logout}}),r("router-view")],1)},a=[],o=(r("b0c0"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"main-header",class:e.headerClass},[e.isHome?e._e():r("div",{staticClass:"main-nav flex"},[r("router-link",{attrs:{to:"/",exact:""}},[e._v("Home")]),r("router-link",{attrs:{to:"/board",exact:""}},[e._v("Boards")])],1),r("div",{staticClass:"logo flex"},[r("span",{on:{click:e.goToHome}},[e._v("Taskules")])]),r("div",{staticClass:"user-area flex"},[e.isGuest?[r("router-link",{attrs:{to:"/login"}},[e._v("Login")]),e._v(" | "),r("router-link",{attrs:{to:"/signup"}},[e._v("Signup")])]:r("span",{staticClass:"logout",on:{click:e.emitLogout}},[e._v("Logout")])],2)])}),c=[],u={props:{loggedinUserId:String},data:function(){return{isHome:!1}},computed:{isGuest:function(){return"guest"===this.loggedinUserId},headerClass:function(){return{home:this.isHome,app:!this.isHome}}},methods:{emitLogout:function(){this.$emit("logout")},goToHome:function(){"home"!==this.$route.name&&this.$router.push("/")}},watch:{"$route.path":function(){var e=this.$route.name;this.isHome="home"===e||"login"===e||"signup"===e}},created:function(){var e=this.$route.name;this.isHome="home"===e||"login"===e||"signup"===e}},d=u,l=r("2877"),p=Object(l["a"])(d,o,c,!1,null,null,null),f=p.exports,m=r("8055"),h=r.n(m),g="/",b={setup:v,terminate:y,on:C,off:_,emit:k};function v(){s=h()(g)}function y(){s=null}function C(e,t){s.on(e,t)}function _(e,t){s.off(e,t)}function k(e,t){s.emit(e,t)}var x={computed:{loggedinUser:function(){return this.$store.getters.loggedinUser._id},appStyle:function(){var e=this.$route.name,t="home"===e||"login"===e||"signup"===e;return{"padding-block-start":t?"150px":"0"}}},methods:{logout:function(){this.$store.dispatch("logout")}},created:function(){b.setup(),this.$store.dispatch("loadBoards")},destroyed:function(){b.terminate()},components:{mainHeader:f}},w=x,j=Object(l["a"])(w,n,a,!1,null,null,null),T=j.exports,$=r("9483");Object($["a"])("".concat("/","service-worker.js"),{ready:function(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered:function(){console.log("Service worker has been registered.")},cached:function(){console.log("Content has been cached for offline use.")},updatefound:function(){console.log("New content is downloading.")},updated:function(){console.log("New content is available; please refresh.")},offline:function(){console.log("No internet connection found. App is running in offline mode.")},error:function(e){console.error("Error during service worker registration:",e)}});var B=r("8c4f"),P=r("0f96"),E=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.boardsForDisplay?r("section",{staticClass:"board-list flex f-center wrap"},[r("div",{staticClass:"create-board board-preview flex f-center"},[e.isAdding?r("form",{on:{submit:function(t){return t.preventDefault(),e.saveBoard(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newBoardTxt,expression:"newBoardTxt"}],attrs:{type:"text",placeholder:"Enter your board name"},domProps:{value:e.newBoardTxt},on:{input:function(t){t.target.composing||(e.newBoardTxt=t.target.value)}}}),r("button",[e._v("Create")])]):r("button",{on:{click:e.addBoard}},[e._v("+ CREATE BOARD")])]),e._l(e.boardsForDisplay,(function(t){return r("board-preview",{key:t._id,attrs:{boardDetails:t},on:{deleted:e.deleteBoard}})}))],2):e._e()},D=[],I=(r("96cf"),r("1da1")),S=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"board-preview flex f-center f-col",style:e.boardStyle,on:{click:e.goToBoard}},[r("h2",[e._v(e._s(e.boardDetails.title))]),r("button",{staticClass:"delete-btn",on:{click:function(t){return t.stopPropagation(),e.emitDelete(t)}}},[r("i",{staticClass:"fas fa-trash-alt"})])])},U=[],A={props:{boardDetails:Object},computed:{boardStyle:function(){return{background:this.boardDetails.style.background}}},methods:{goToBoard:function(){this.$router.push("/board/".concat(this.boardDetails._id))},emitDelete:function(){this.$emit("deleted",this.boardDetails._id)}}},O=A,M=Object(l["a"])(O,S,U,!1,null,null,null),G=M.exports,R={data:function(){return{isAdding:!1,newBoardTxt:""}},computed:{boardsForDisplay:function(){return this.$store.getters.boards},loggedinUser:function(){return this.$store.getters.loggedinUser}},methods:{deleteBoard:function(e){confirm("Are you sure you want to delete this board?")&&this.$store.dispatch("deleteBoard",e)},addBoard:function(){this.isAdding=!0},saveBoard:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(!e.newBoardTxt){t.next=5;break}return t.next=3,e.$store.dispatch("createNewBoard",e.newBoardTxt);case 3:r=t.sent,e.$router.push("/board/".concat(r._id));case 5:e.newBoardTxt="",e.isAdding=!1;case 7:case"end":return t.stop()}}),t)})))()}},created:function(){this.$store.dispatch("loadBoards"),this.$store.dispatch("loadUsers")},components:{boardPreview:G}},L=R,N=Object(l["a"])(L,E,D,!1,null,null,null),z=N.exports,F=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.board?r("section",{directives:[{name:"dragscroll",rawName:"v-dragscroll:firstchilddrag",arg:"firstchilddrag"}],staticClass:"board-details flex f-col",style:e.boardStyle},[r("div",{staticClass:"screen",on:{click:e.goBack}}),r("board-header",{attrs:{board:e.board,users:e.users,user:e.user},on:{openMenu:e.toggleMenu,updateTitle:e.updateBoardTitle,updateboardUsers:e.updateboardUsers,changeBgc:e.changeBgc,privacyChange:e.changePrivacy,deleteBoard:e.deleteBoard}}),r("div",{staticClass:"flex group-container"},[r("draggable",{directives:[{name:"dragscroll",rawName:"v-dragscroll:nochilddrag",arg:"nochilddrag"}],staticClass:"drag-area flex",attrs:{ghostClass:"ghost",chosenClass:"chosen",dragClass:"drag",list:e.board.groups,animation:200,group:"board",forceFallback:!0},on:{change:function(t){return e.updateBoard(e.board)}}},e._l(e.board.groups,(function(t){return r("group",{key:t.id,attrs:{"data-no-dragscroll":"",group:t,labels:e.board.labels,filterBy:e.filterBy},on:{close:e.closeDetails,newCard:e.addCard,change:e.updateGroup,delete:e.deleteGroup}})})),1),r("div",{staticClass:"add-group group flex f-center",on:{click:e.addGroup}},[e.isAddingGroup?r("form",{on:{submit:function(t){return t.preventDefault(),e.newGroup(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newGroupTitle,expression:"newGroupTitle"}],attrs:{type:"text",placeholder:"Enter list title"},domProps:{value:e.newGroupTitle},on:{input:function(t){t.target.composing||(e.newGroupTitle=t.target.value)}}}),r("div",{staticClass:"new-group-btns"},[r("button",[e._v("Save")]),r("button",{attrs:{type:"button"},on:{click:function(t){return t.stopPropagation(),e.closeAddGroup(t)}}},[e._v(" Cancel ")])])]):r("span",[e._v("+ Add another list")])])],1),e.isDetails?r("card-details",{on:{close:e.closeDetails,addCard:e.updateCard,deleteCard:e.deleteCard}}):e._e(),e.isMenu?r("board-menu",{attrs:{board:e.board},on:{changeBgc:e.changeBgc,close:e.toggleMenu,deleteBoard:e.deleteBoard,filter:e.filter}}):e._e()],1):e._e()},H=[],q=(r("7db0"),r("c740"),r("4160"),r("caad"),r("a434"),r("2532"),r("159b"),r("b76a")),J=r.n(q),V=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.group?r("section",{staticClass:"group flex f-col"},[r("div",{staticClass:"group-header"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.group.title,expression:"group.title"}],staticClass:"title",attrs:{type:"text"},domProps:{value:e.group.title},on:{change:e.emitChange,input:function(t){t.target.composing||e.$set(e.group,"title",t.target.value)}}}),r("button",{on:{click:function(t){return e.toggleEdit()}}},[e._v("...")]),e.isEdit?r("div",{staticClass:"group-edit flex f-col"},[r("button",{on:{click:function(t){return e.emitDelete(e.group.id)}}},[e._v("Delete Group")])]):e._e()]),r("draggable",{staticClass:"drag-area",attrs:{ghostClass:"ghost",chosenClass:"chosen",dragClass:"drag",list:e.group.cards,group:"group",forceFallback:!0,emptyInsertThreshold:100},on:{change:function(t){return e.update(t)},start:function(t){e.isDrag=!0},end:function(t){e.isDrag=!1}}},e._l(e.cardsToShow,(function(t,s){return r("card-preview",{key:t.id,attrs:{"data-id":s,card:t,labels:e.labels},nativeOn:{click:function(r){return e.openDetails(t.id)}}})})),1),r("div",{staticClass:"add-card"},[e.isAdding?r("form",{on:{submit:function(t){return t.preventDefault(),e.saveCard(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newCardTxt,expression:"newCardTxt"}],ref:"card-title",attrs:{type:"text"},domProps:{value:e.newCardTxt},on:{input:function(t){t.target.composing||(e.newCardTxt=t.target.value)}}}),r("button",[e._v("Save")])]):e._e(),e.isAdding?e._e():r("button",{on:{click:e.addCard}},[e._v("+ "+e._s(e.addBtnTxt))])])],1):e._e()},W=[],K=(r("99af"),r("a623"),r("4de4"),r("45fc"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"card-preview flex f-col f-center"},[r("div",{staticClass:"card-header",style:e.headerStyle}),r("div",{staticClass:"card-info flex f-center f-col"},[e.labelsSelected.length?r("ul",{staticClass:"label-marks flex wrap f-center"},e._l(e.labelsSelected,(function(e){return r("li",{key:e,staticClass:"flex"},[r("div",{staticClass:"label",style:{backgroundColor:e}})])})),0):e._e(),e._v(" "+e._s(e.card.title)+" "),e.card.attachments&&e.card.attachments.length?r("div",{staticClass:"attachment"},[r("img",{attrs:{src:""+e.card.attachments[0].src}})]):e._e()]),r("div",{staticClass:"icons"},[e.card.dueDate?r("i",{staticClass:"far fa-clock"},[e._v(e._s(e.localTime))]):e._e(),e.card.description?r("i",{staticClass:"fas fa-align-left"}):e._e(),e.card.checklist?r("i",{staticClass:"fas fa-list"}):e._e(),e.card.attachments&&e.card.attachments.length?r("i",{staticClass:"fas fa-paperclip"}):e._e(),e.card.members&&e.card.members.length?e._l(e.card.members,(function(e){return r("div",{key:e._id},[r("avatar",{attrs:{size:25,username:e.username}})],1)})):e._e()],2)])}),Q=[],X=(r("d81d"),r("4a89")),Y=r.n(X),Z={props:{card:Object,labels:Array},data:function(){return{}},computed:{localTime:function(){return new Date(this.card.dueDate).toLocaleDateString()},headerStyle:function(){return{background:this.card.style.headerColor}},labelsSelected:function(){if(!this.card.labels)return[];var e=this.card.labels.map((function(e){return e.id})),t=this.labels.filter((function(t){return e.includes(t.id)}));return t.map((function(e){return e.color}))}},methods:{},created:function(){},components:{avatar:Y.a}},ee=Z,te=Object(l["a"])(ee,K,Q,!1,null,null,null),re=te.exports,se={props:{group:Object,labels:Array,filterBy:Object},data:function(){return{isAdding:!1,newCardTxt:"",isEdit:!1,isDrag:!1}},computed:{addBtnTxt:function(){return this.group.cards.length?"Add another card":"Add a card"},cardsToShow:function(){var e=this;if(!this.filterBy)return this.group.cards;console.log("filter",this.filterBy);var t=this.group.cards.filter((function(t){return t.labels||(t.labels=[]),t.members||(t.members=[]),t.title.toLowerCase().includes(e.filterBy.txt.toLowerCase())&&(!e.filterBy.labelsIds.length||e.filterBy.labelsIds.every((function(e){return t.labels.some((function(t){return t.id===e}))})))&&(!e.filterBy.membersIds.length||e.filterBy.membersIds.every((function(e){return t.members.some((function(t){return t._id===e}))})))}));return t}},methods:{toggleEdit:function(){this.isEdit=!this.isEdit},addCard:function(){var e=this;this.isAdding=!0,setTimeout((function(){return e.$refs["card-title"].focus()}),0)},saveCard:function(){this.newCardTxt&&this.$emit("newCard",this.newCardTxt,this.group.id),this.newCardTxt="",this.isAdding=!1},openDetails:function(e){document.body.querySelector(".screen").style.display="block";var t=this.$route.params.boardId;this.$router.push("/board/".concat(t,"/card/").concat(e))},emitChange:function(){this.$emit("change",this.group)},emitDelete:function(e){this.$emit("delete",e)},update:function(){this.emitChange()}},components:{cardPreview:re,draggable:J.a}},ie=se,ne=Object(l["a"])(ie,V,W,!1,null,null,null),ae=ne.exports,oe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.board?r("section",{staticClass:"board-header flex"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.boardTitle,expression:"boardTitle"}],ref:"myInput",attrs:{type:"text"},domProps:{value:e.boardTitle},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.emitTitleChange(t)},blur:e.emitTitleChange,input:function(t){t.target.composing||(e.boardTitle=t.target.value)}}}),r("el-select",{staticClass:"privacy",attrs:{"popper-class":"dropdown"},on:{change:e.emitPrivacyChange},model:{value:e.privacy,callback:function(t){e.privacy=t},expression:"privacy"}},e._l(e.options,(function(e){return r("el-option",{key:e.value,attrs:{label:e.label,value:e.value}})})),1),r("div",{staticClass:"board-members flex"},[e._l(e.boardMembers,(function(e){return r("div",{key:e.id},[r("avatar",{attrs:{size:35,username:e.username}})],1)})),e.isAddUsers?e._e():r("span",{staticClass:"add-btn flex f-center",on:{click:e.addUsers}},[r("i",{staticClass:"fas fa-user-plus"})]),e.isAddUsers?r("add-users",{attrs:{allUsers:e.users,boardUsers:this.board.members},on:{closeUsers:e.closeUsers,updateUsers:e.updateUsers}}):e._e()],2),r("button",{staticClass:"menu-btn",on:{click:e.emitOpenMenu}},[e._v("Menu")])],1):e._e()},ce=[],ue=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"add-users"},[r("h3",[e._v("Users")]),e._v(" "),r("button",{on:{click:e.onClose}},[e._v("x")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userSearch,expression:"userSearch"}],attrs:{type:"text",placeholder:"Serach members"},domProps:{value:e.userSearch},on:{keyup:e.filter,input:function(t){t.target.composing||(e.userSearch=t.target.value)}}}),r("ul",e._l(e.usersToShow,(function(t){return r("li",{key:t._id,staticClass:"flex"},[r("span",{staticClass:"board-user flex",on:{click:function(r){return e.toggleUser(t._id)}}},[r("avatar",{attrs:{size:35,username:t.username}}),r("span",[e._v(" "+e._s(t.username))])],1),e.isUser(t._id)?r("i",{staticClass:"fas fa-check"}):e._e()])})),0)])},de=[],le={props:{allUsers:Array,boardUsers:Array},data:function(){return{userSearch:null,filterTxt:""}},computed:{usersToShow:function(){var e=this;return this.allUsers.filter((function(t){return t.username.toLowerCase().includes(e.filterTxt.toLowerCase())}))}},methods:{filter:function(){this.filterTxt=this.userSearch},toggleUser:function(e){this.$emit("updateUsers",e)},isUser:function(e){return this.boardUsers.some((function(t){return t._id===e}))},onClose:function(){this.$emit("closeUsers")}},components:{avatar:Y.a}},pe=le,fe=Object(l["a"])(pe,ue,de,!1,null,null,null),me=fe.exports,he={props:{board:Object,users:Array,user:Object},data:function(){return{boardTitle:null,isAddUsers:!1,options:"guest"!==this.user._id?[{value:"private",label:"Private"},{value:"public",label:"Public"}]:[{value:"public",label:"Public"}],privacy:null}},methods:{emitOpenMenu:function(){this.$emit("openMenu")},addUsers:function(){this.isAddUsers=!0},closeUsers:function(){this.isAddUsers=!1},updateUsers:function(e){this.$emit("updateboardUsers",e)},emitTitleChange:function(){var e=this;this.$emit("updateTitle",this.boardTitle),setTimeout((function(){e.$refs.myInput.blur()}),0)},emitBgChange:function(e){this.$emit("changeBgc",e)},closeMenu:function(){this.isMenu=!1},emitPrivacyChange:function(){this.$emit("privacyChange",this.privacy)},emitDeleteBoard:function(e){this.$emit("deleteBoard",e)}},computed:{boardMembers:function(){return this.board.members},isPrivate:function(){return this.board.isPrivate?"Private":"Public"}},created:function(){this.boardTitle=this.board.title,this.privacy=this.isPrivate},destroyed:function(){},components:{avatar:Y.a,addUsers:me}},ge=he,be=Object(l["a"])(ge,oe,ce,!1,null,null,null),ve=be.exports,ye=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.card?r("section",{staticClass:"card-details flex f-col",on:{click:function(t){return t.stopPropagation(),e.closePopup(t)}}},[r("div",{staticClass:"card-header flex",style:e.headerStyle},[r("button",{staticClass:"cancel-btn",on:{click:function(t){return t.stopPropagation(),e.emitClose(t)}}},[r("i",{staticClass:"el-icon-close"})])]),r("div",{staticClass:"card-main-container flex"},[r("div",{staticClass:"card-info"},[r("div",{staticClass:"pure-info"},[r("i",{staticClass:"el-icon-postcard"}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.card.title,expression:"card.title"}],staticClass:"title",attrs:{type:"text"},domProps:{value:e.card.title},on:{blur:e.updateBoard,input:function(t){t.target.composing||e.$set(e.card,"title",t.target.value)}}}),r("h4",{staticClass:"in-list"},[e._v(" in list "),r("span",[e._v(e._s(e.getCurrGroup.title))])])]),r("section",{staticClass:"add-to-card flex wrap"},[r("div",{staticClass:"members-labels flex"},[e.card.members&&e.card.members.length?r("div",{staticClass:"card-members f-col"},[r("h3",[e._v("Members")]),r("div",{staticClass:"flex"},[e._l(e.card.members,(function(e){return r("span",{key:e._id},[r("avatar",{attrs:{size:40,username:e.username}})],1)})),r("span",{on:{click:function(t){return t.stopPropagation(),e.onAddMembers(t)}}},[r("avatar",{staticClass:"add-member",attrs:{size:40,username:"+","background-color":"#E2E4E9",color:"rgb(94, 108, 132)"}})],1)],2)]):e._e(),e.labelsSelected().length?r("div",{staticClass:"label-marks f-col"},[r("h3",{staticClass:"flex"},[e._v("Labels")]),r("div",{staticClass:"label-container flex wrap"},e._l(e.labelsSelected(),(function(t){return r("div",{key:t.id,staticClass:"label flex f-center",style:{backgroundColor:t.color}},[r("span",{staticClass:"flex f-center"},[e._v(e._s(t.title))])])})),0)]):e._e()]),e.card.dueDate||e.dueDate?r("div",{staticClass:"due-date"},[r("h3",{on:{click:function(t){return t.stopPropagation(),e.setDate(t)}}},[e._v("Due Date")]),e.card.dueDate?r("span",{staticClass:"due-date-info"},[r("check-box",{staticClass:"due-date-checkbox",attrs:{isDone:e.card.isDone}}),r("span",{staticClass:"due-date-local-time"},[e._v(e._s(e.localTime))])],1):e._e(),e.dueDate?r("date-picker",{ref:"date-picker",staticClass:"date-picker",attrs:{slot:"date-picker",dueDate:e.card.dueDate},on:{setDate:e.setNewDate},slot:"date-picker"}):e._e()],1):e._e()]),e._m(0),r("textarea",{directives:[{name:"model",rawName:"v-model",value:e.card.description,expression:"card.description"}],staticClass:"desc",attrs:{resize:"none",cols:"50",rows:"3",type:"text",placeholder:"Add a more detailed description..."},domProps:{value:e.card.description},on:{input:function(t){t.target.composing||e.$set(e.card,"description",t.target.value)}}}),e._v(" "),e.card.checklistGroup?r("div",{staticClass:"checklist-group"},[r("i",{staticClass:"fal fa-tasks"}),e._l(e.card.checklistGroup,(function(t){return r("card-checklist",{key:t.id,attrs:{checklist:t},on:{updeteChecklist:e.updeteChecklist,deleteChecklist:e.deleteChecklist}})}))],2):e._e(),r("div",{staticClass:"btns flex"}),e.isPopUp?r("pop-up",{on:{closePopup:e.closePopup}},[e.move?r("card-move",{attrs:{groups:e.board.groups,group:e.getCurrGroup,currPosition:e.getCurrPosition},on:{moveCard:e.moveCard}}):e._e(),e.isAddMembers?r("add-members",{attrs:{cardMembers:e.cardMembers(),boardMembers:e.boardMembers},on:{updateMembers:e.updateMembers}}):e._e(),e.board?[e.labels?r("card-labels",{attrs:{card:e.card,boardLabels:e.board.labels},on:{updateCard:e.updateCard,updateLabelTitle:e.updateLabelTitle}}):e._e()]:e._e(),e.cover?r("card-cover",{attrs:{color:e.card.style.headerColor},on:{colorChange:e.updateCover}}):e._e(),e.checklist?r("add-checklist",{attrs:{card:e.card},on:{updateCard:e.updateCard,close:e.closePopup}}):e._e()],2):e._e(),r("card-attachments",{attrs:{attachments:e.attachments},on:{updateAttachments:e.updateAttachments}}),e.card?r("card-activity",{attrs:{user:e.loggedinUser,card:e.card,activities:e.cardActivities,isShowDetails:!1},on:{addActivity:e.addActivity}}):e._e()],1),r("div",{staticClass:"actions flex f-col"},[r("h3",[e._v("Add to card")]),r("button",{on:{click:function(t){return t.stopPropagation(),e.onAddMembers(t)}}},[r("i",{staticClass:"el-icon-user"}),e._v("Members ")]),r("button",{on:{click:function(t){return t.stopPropagation(),e.openLabels(t)}}},[r("i",{staticClass:"el-icon-collection-tag"}),e._v("Labels ")]),r("button",{on:{click:function(t){return t.stopPropagation(),e.addChecklist(t)}}},[r("i",{staticClass:"el-icon-document-checked"}),e._v("Checklist ")]),e._m(1),r("input",{staticClass:"upload",attrs:{type:"file",name:"uploader",id:"uploader"},on:{change:e.onUpload}}),r("button",{staticClass:"cover-btn",on:{click:function(t){return t.stopPropagation(),e.openCoverPicker(t)}}},[r("i",{staticClass:"fal fa-window-maximize"}),e._v(" Cover "),r("el-color-picker",{ref:"color-picker",staticClass:"color-picker",attrs:{"popper-class":"color-dropdown",size:"mini"},on:{change:e.updateCover},model:{value:e.card.style.headerColor,callback:function(t){e.$set(e.card.style,"headerColor",t)},expression:"card.style.headerColor"}})],1),r("div",[r("button",{on:{click:function(t){return t.stopPropagation(),e.setDate(t)}}},[r("i",{staticClass:"fal fa-clock"}),e._v("Set Date ")]),e.card.dueDate?r("button",{on:{click:function(t){return t.stopPropagation(),e.removeDate(t)}}},[r("i",{staticClass:"fal fa-history"}),e._v(" Remove Date ")]):e._e()]),r("button",{on:{click:e.cloneCard}},[r("i",{staticClass:"fal fa-clone"}),e._v("Clone ")]),r("button",{staticClass:"dlt-btn",on:{click:function(t){return t.stopPropagation(),e.deleteCard(t)}}},[r("i",{staticClass:"fal fa-trash-alt"}),e._v(" Delete Card ")]),r("button",{staticClass:"move-btn",on:{click:function(t){return t.stopPropagation(),e.emitMove(t)}}},[r("i",{staticClass:"fal fa-arrow-right"}),e._v("Move ")])])])]):e._e()},Ce=[function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("div",{staticClass:"description flex"},[r("i",{staticClass:"fas fa-align-left"}),r("h2",[e._v("Description")]),r("button",[e._v("Edit")])])},function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("button",[r("label",{staticClass:"upload-btn",attrs:{for:"uploader"}},[r("i",{staticClass:"fal fa-paperclip"}),e._v(" Attachment ")])])}],_e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-checkbox",{on:{change:e.toggleDone},model:{value:e.checked,callback:function(t){e.checked=t},expression:"checked"}})},ke=[],xe={props:{isDone:Boolean},data:function(){return{checked:!0}},methods:{toggleDone:function(){return this.checked}}},we=xe,je=Object(l["a"])(we,_e,ke,!1,null,null,null),Te=je.exports,$e=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"pop-up"},[r("button",{on:{click:e.emitClose}},[e._v("x")]),e._t("card-move"),e._t("date-picker"),e._t("add-members"),e._t("card-cover"),e._t("default")],2)},Be=[],Pe={methods:{emitClose:function(){this.$emit("closePopup")}}},Ee=Pe,De=Object(l["a"])(Ee,$e,Be,!1,null,null,null),Ie=De.exports,Se=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"card-activity"},[r("h2",[e._v("activity:")]),e.isAllActivities?r("button",{on:{click:e.toggleShowDetails}},[e._v("Hide Details")]):r("button",{on:{click:e.toggleShowDetails}},[e._v("Show Details")]),r("div",{staticClass:"flex"},[r("avatar",{attrs:{size:35,username:e.user.username}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.msg.txt,expression:"msg.txt"}],attrs:{type:"text",placeholder:"Write a comment..."},domProps:{value:e.msg.txt},on:{keydown:e.typing,input:function(t){t.target.composing||e.$set(e.msg,"txt",t.target.value)}}}),r("button",{on:{click:e.sendMsg}},[e._v("Send")])],1),e.userTyping?r("span",[r("avatar",{attrs:{size:35,username:e.userTyping}}),e._v(" Adding a comment")],1):e._e(),e.activitiesToShow&&e.activitiesToShow.length?e._l(e.activitiesToShow,(function(e){return r("activity-preview",{key:e.id,attrs:{activity:e}})})):e._e()],2)},Ue=[],Ae=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"activity-preview flex"},[r("avatar",{staticClass:"avater",attrs:{size:35,username:e.username}}),e.activity.txt?r("div",{staticClass:"info flex f-col"},[r("h2",{staticClass:"flex wrap"},[e._v(" "+e._s(e.username)+" "),r("pre",[e._v(" ")]),e._v(" "),r("span",{on:{click:e.openCard}},[e._v(e._s(e.activity.txt)+" ")])]),r("h3",[e._v(e._s(e.moment(e.activity.createdAt).fromNow()))])]):e._e(),e.activity.comment?r("div",{staticClass:"info flex f-col"},[r("h2",{staticClass:"flex f-center"},[e._v(" "+e._s(e.username)+" on "),r("span",{on:{click:e.openCard}},[e._v(e._s(e.activity.card.title)+": "+e._s(e.activity.comment))])]),r("h3",[e._v(e._s(e.moment(e.activity.createdAt).fromNow()))])]):e._e()],1)},Oe=[],Me={props:{activity:Object},computed:{username:function(){return this.activity.byMember.username},time:function(){return this.activity.createdAt}},methods:{openCard:function(){this.activity.card&&this.$router.push(this.activity.card.url)}},components:{avatar:Y.a}},Ge=Me,Re=Object(l["a"])(Ge,Ae,Oe,!1,null,null,null),Le=Re.exports,Ne={props:{activities:Array,user:Object,card:Object,isShowDetails:Boolean},data:function(){return{msg:{from:null,txt:""},userTyping:null,timeOutTyping:null,isAllActivities:this.isShowDetails}},computed:{miniUser:function(){return{_id:this.user._id,username:this.user.username,url:this.user.url}},activitiesToShow:function(){return this.isAllActivities?this.activities:this.activities.filter((function(e){return e.comment&&e.comment.length}))}},methods:{toggleShowDetails:function(){this.isAllActivities=!this.isAllActivities},sendMsg:function(){b.emit("activity-newMsg",this.msg),this.msg.txt=""},addMsg:function(e){this.userTyping=null;var t={_id:e.from._id,username:e.from.username,imgUrl:e.from.imgUrl};this.$emit("addActivity",null,this.card,e.txt,t)},typing:function(){console.log("typing"),b.emit("typing",this.msg.from.username)},setUserTyping:function(e){var t=this;this.userTyping=e,this.timeOutTyping&&clearTimeout(this.timeOutTyping),this.timeOutTyping=setTimeout((function(){t.userTyping=null}),1500)}},created:function(){this.msg.from=this.miniUser,b.emit("card-topic",this.card.id),b.on("activity-addMsg",this.addMsg),b.on("user-typing",this.setUserTyping)},destroyed:function(){b.off("activity-addMsg",this.addMsg)},components:{activityPreview:Le,avatar:Y.a}},ze=Ne,Fe=Object(l["a"])(ze,Se,Ue,!1,null,null,null),He=Fe.exports,qe=function(){var e=this,t=e.$createElement,r=e._self._c||t;return e.attachmentsToShow&&e.attachmentsToShow.length?r("section",{staticClass:"attachments"},[r("ul",e._l(e.attachmentsToShow,(function(t,s){return r("li",{key:s,staticClass:"attachment-card"},[r("img",{attrs:{src:t.src}}),e._v(" "+e._s(t.name)+" "),r("button",{on:{click:function(r){return e.emitDelete(t.id)}}},[e._v("Delete")])])})),0)]):e._e()},Je=[],Ve=r("53ca"),We={makeId:Ke,getRandomInt:Qe,deepCopy:Xe};function Ke(){for(var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:10,t="",r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",s=0;s<e;s++)t+=r.charAt(Math.floor(Math.random()*r.length));return t}function Qe(e,t){return e=Math.ceil(e),t=Math.floor(t),Math.floor(Math.random()*(t-e+1))+e}function Xe(e){var t,r,s;if("object"!==Object(Ve["a"])(e)||null===e)return e;for(s in t=Array.isArray(e)?[]:{},e)r=e[s],t[s]=Xe(r);return t}var Ye={props:{attachments:Array},data:function(){return{isShowAll:!1}},computed:{attachmentsToShow:function(){return We.deepCopy(this.attachments)}},methods:{emitDelete:function(e){var t=this.attachmentsToShow,r=t.findIndex((function(t){return t.id===e}));-1!==r&&t.splice(r,1),this.$emit("updateAttachments",t)}}},Ze=Ye,et=Object(l["a"])(Ze,qe,Je,!1,null,null,null),tt=et.exports,rt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"card-move"},[r("h3",[e._v("Move Card")]),r("h3",[e._v("Select Destenation")]),r("div",[r("select-list",{attrs:{groups:e.groups,title:e.group.title},on:{changeCardGroup:e.changeCardGroup}}),r("select-position",{attrs:{cards:e.getCards,diff:e.getDiff,currPosition:e.getCurrPosition},on:{changeCardPosition:e.changeCardPosition}}),r("button",{on:{click:function(t){return t.stopPropagation(),e.emitMove(t)}}},[e._v("Move")])],1)])},st=[],it=(r("a9e3"),function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-select",{attrs:{placeholder:e.title},on:{change:e.changeGroup},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.options,(function(e){return r("el-option",{key:e.id,attrs:{label:e.title,value:e.id}})})),1)}),nt=[],at={props:{groups:Array,title:String},data:function(){return{options:this.groups,value:""}},methods:{changeGroup:function(){this.$emit("changeCardGroup",this.value)}}},ot=at,ct=Object(l["a"])(ot,it,nt,!1,null,null,null),ut=ct.exports,dt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("el-select",{attrs:{placeholder:+e.currPosition+e.diff+""},on:{change:e.changePosition},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}},e._l(e.cards.length+e.diff,(function(e){return r("el-option",{key:e,attrs:{label:e,value:e}})})),1)},lt=[],pt={props:{cards:Array,currPosition:String,diff:Number},data:function(){return{value:""}},methods:{changePosition:function(){this.$emit("changeCardPosition",this.value)}}},ft=pt,mt=Object(l["a"])(ft,dt,lt,!1,null,null,null),ht=mt.exports,gt={props:{groups:Array,group:Object,currPosition:Number},data:function(){return{newCardGroupId:this.group.id,newCardPosition:null}},computed:{getCards:function(){var e=this,t=this.groups.find((function(t){return t.id===e.newCardGroupId}));return t.cards},getDiff:function(){return this.newCardGroupId===this.group.id?0:1},getCurrPosition:function(){var e=this;if(this.newCardGroupId){var t=this.groups.find((function(t){return t.id===e.newCardGroupId}));return t.cards.length+""}return this.currPosition+""}},methods:{changeCardGroup:function(e){this.newCardGroupId=e},changeCardPosition:function(e){this.newCardPosition=e},emitMove:function(){var e={startPos:this.currPosition-1,endPos:this.newCardPosition?this.newCardPosition-1:null,startGroup:this.group.id,endGroup:this.newCardGroupId};this.$emit("moveCard",e)}},components:{selectList:ut,selectPosition:ht}},bt=gt,vt=Object(l["a"])(bt,rt,st,!1,null,null,null),yt=vt.exports,Ct=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"card-cover"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newColor,expression:"newColor"}],attrs:{type:"color"},domProps:{value:e.newColor},on:{change:e.emitColorChange,input:function(t){t.target.composing||(e.newColor=t.target.value)}}})])},_t=[],kt={props:{color:String},data:function(){return{newColor:""}},methods:{emitColorChange:function(){this.$emit("colorChange",this.newColor)}},created:function(){this.newColor=this.color}},xt=kt,wt=Object(l["a"])(xt,Ct,_t,!1,null,null,null),jt=wt.exports,Tt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"block"},[r("el-date-picker",{ref:"date",attrs:{"default-value":e.defaultValue,type:"datetime",placeholder:"Select Due Date","default-time":"12:00:00","value-format":"timestamp","picker-options":e.pickerOptions},on:{change:e.setDate},model:{value:e.value1,callback:function(t){e.value1=t},expression:"value1"}},[e._v(" > ")])],1)},$t=[],Bt={props:{dueDate:Number},data:function(){return{pickerOptions:{disabledDate:function(e){return e.getTime()<Date.now()},shortcuts:[{text:"Tomorrow",onClick:function(e){var t=new Date;t.setTime(t.getTime()+864e5),e.$emit("pick",t)}},{text:"In a week",onClick:function(e){var t=new Date;t.setTime(t.getTime()+6048e5),e.$emit("pick",t)}}]},value1:""}},computed:{defaultValue:function(){return this.dueDate?this.dueDate:new Date}},methods:{setDate:function(){this.dueDate&&this.$emit("removeDate"),this.$refs.date._data.pickerVisible=!1,this.$emit("setDate",this.value1)}},mounted:function(){this.$refs.date._data.pickerVisible=!0}},Pt=Bt,Et=Object(l["a"])(Pt,Tt,$t,!1,null,null,null),Dt=Et.exports,It=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"card-label flex f-col f-center"},[r("h3",[e._v("Labels")]),r("ul",{staticClass:"label-list flex f-col"},[r("li",e._l(e.boardLabels,(function(t){return r("label-preview",{key:t.id,staticClass:"flex",attrs:{label:t,card:e.card},on:{updateCard:e.emitUpdateCard,updateLabelTitle:e.emitUpdateTitle}})})),1)])])},St=[],Ut=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"label-preview"},[r("div",{staticClass:"label flex f-s-between",style:{backgroundColor:e.label.color},on:{click:function(t){return t.stopPropagation(),e.toggleLabel(t)}}},[e.isEdit?r("input",{directives:[{name:"model",rawName:"v-model",value:e.titleToEdit,expression:"titleToEdit"}],ref:"myInput",attrs:{type:"text"},domProps:{value:e.titleToEdit},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.updateTitle(t))},input:function(t){t.target.composing||(e.titleToEdit=t.target.value)}}}):r("span",[e._v(e._s(e.label.title))]),r("i",{class:e.isSelect()})]),r("button",{on:{click:function(t){return t.stopPropagation(),e.focusInput(t)}}},[r("i",{staticClass:"fal fa-pen"})])])},At=[],Ot={props:{label:Object,card:Object},data:function(){return{titleToEdit:this.label.title,isEdit:!1}},computed:{cardToEdit:function(){return We.deepCopy(this.card)}},methods:{toggleLabel:function(){var e=this;this.card.labels||(this.card.labels=[]);var t=this.card.labels.findIndex((function(t){return t.id===e.label.id}));-1===t?this.card.labels.push({id:this.label.id}):this.card.labels.splice(t,1),this.$emit("updateCard",this.card)},isSelect:function(){if(this.card.labels){var e=this.card.labels.map((function(e){return e.id}));return e.includes(this.label.id)?"fas fa-check":""}},focusInput:function(){var e=this;this.isEdit=!0,setTimeout((function(){e.$refs.myInput.focus()}),0)},updateTitle:function(){this.isEdit=!1,this.$emit("updateLabelTitle",this.label.id,this.titleToEdit)}}},Mt=Ot,Gt=Object(l["a"])(Mt,Ut,At,!1,null,null,null),Rt=Gt.exports,Lt={props:{card:Object,boardLabels:Array},components:{labelPreview:Rt},methods:{emitUpdateCard:function(e){this.$emit("updateCard",e)},emitUpdateTitle:function(e,t){this.$emit("updateLabelTitle",e,t)}}},Nt=Lt,zt=Object(l["a"])(Nt,It,St,!1,null,null,null),Ft=zt.exports,Ht=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"add-checklist",on:{click:function(e){e.stopPropagation()}}},[r("h2",[e._v("Add Checklist")]),r("hr"),r("h3",[e._v("Title")]),r("form",{on:{submit:function(t){return t.preventDefault(),e.addChecklist(t)}}},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.titleToEdit,expression:"titleToEdit"}],ref:"myInput",attrs:{type:"text"},domProps:{value:e.titleToEdit},on:{input:function(t){t.target.composing||(e.titleToEdit=t.target.value)}}}),r("button",[e._v("Add")])])])},qt=[],Jt={props:{card:Object},data:function(){return{titleToEdit:"Checklist"}},methods:{addChecklist:function(){var e=We.deepCopy(this.card);e.checklistGroup||(e.checklistGroup=[]),e.checklistGroup.push({id:We.makeId(),title:this.titleToEdit,items:[]}),this.$emit("updateCard",e),this.$emit("close")}},created:function(){var e=this;setTimeout((function(){e.$refs.myInput.focus()}),0)}},Vt=Jt,Wt=Object(l["a"])(Vt,Ht,qt,!1,null,null,null),Kt=Wt.exports,Qt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"card-checklist"},[r("div",{staticClass:"checklist-title flex"},[r("h2",[e._v(e._s(e.checklist.title))]),r("button",{on:{click:e.deleteChecklist}},[e._v("Delete")])]),e.checklist.items.length?r("div",{staticClass:"items-container"},e._l(e.checklist.items,(function(t){return r("item-preview",{key:t.id,attrs:{item:t},on:{updateItem:e.updateItem,removeItem:e.removeItem,toggleIsDone:e.toggleIsDone}})})),1):e._e(),e.isEdit?[r("input",{directives:[{name:"model",rawName:"v-model",value:e.newItem,expression:"newItem"}],ref:"myInput",attrs:{type:"text",placeholder:"Add an item"},domProps:{value:e.newItem},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.saveItem(t)},input:function(t){t.target.composing||(e.newItem=t.target.value)}}}),r("button",{on:{click:e.saveItem}},[e._v("Save")]),r("button",{on:{click:e.cancel}},[e._v("Cancel")])]:r("button",{on:{click:e.openInput}},[e._v("Add an item")])],2)},Xt=[],Yt=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"item-preview"},[r("input",{directives:[{name:"model",rawName:"v-model",value:e.isDoneToEdit,expression:"isDoneToEdit"}],attrs:{type:"checkbox"},domProps:{checked:Array.isArray(e.isDoneToEdit)?e._i(e.isDoneToEdit,null)>-1:e.isDoneToEdit},on:{change:[function(t){var r=e.isDoneToEdit,s=t.target,i=!!s.checked;if(Array.isArray(r)){var n=null,a=e._i(r,n);s.checked?a<0&&(e.isDoneToEdit=r.concat([n])):a>-1&&(e.isDoneToEdit=r.slice(0,a).concat(r.slice(a+1)))}else e.isDoneToEdit=i},e.toggleIsDone]}}),e.isEdit?r("input",{directives:[{name:"model",rawName:"v-model",value:e.txtToEdit,expression:"txtToEdit"}],ref:"myInput",attrs:{type:"text"},domProps:{value:e.txtToEdit},on:{keyup:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:(t.stopPropagation(),e.updateItem(t))},input:function(t){t.target.composing||(e.txtToEdit=t.target.value)}}}):r("span",{on:{click:function(t){return t.stopPropagation(),e.focusInput(t)}}},[e._v(e._s(e.item.txt))]),r("button",{on:{click:function(t){return t.stopPropagation(),e.removeItem(t)}}},[r("i",{staticClass:"fal fa-trash-alt"})])])},Zt=[],er={props:{item:Object},data:function(){return{txtToEdit:this.item.txt,isDoneToEdit:this.item.isDone,isEdit:!1}},methods:{focusInput:function(){var e=this;this.isEdit=!0,setTimeout((function(){e.$refs.myInput.focus()}),0)},updateItem:function(){this.isEdit=!1,this.$emit("updateItem",this.item.id,this.txtToEdit)},removeItem:function(){this.isEdit=!1,this.$emit("removeItem",this.item.id)},toggleIsDone:function(){this.isEdit=!1,this.$emit("toggleIsDone",this.item.id)}}},tr=er,rr=Object(l["a"])(tr,Yt,Zt,!1,null,null,null),sr=rr.exports,ir={props:{checklist:Object},data:function(){return{newItem:"",isEdit:!1}},methods:{openInput:function(){var e=this;this.isEdit=!0,setTimeout((function(){e.$refs.myInput.focus()}),0)},cancel:function(){this.newItem="",this.isEdit=!1},saveItem:function(){var e=this.checklist;e.items.push({id:We.makeId(),txt:this.newItem,isDone:!1}),this.$emit("updeteChecklist",e),this.cancel()},deleteChecklist:function(){this.$emit("deleteChecklist",this.checklist.id)},updateItem:function(e,t){var r=this.checklist,s=r.items.findIndex((function(t){return t.id===e}));r.items[s].txt=t,this.$emit("updeteChecklist",r),this.cancel()},removeItem:function(e){var t=this.checklist,r=t.items.findIndex((function(t){return t.id===e}));t.items.splice(r,1),this.$emit("updeteChecklist",t),this.cancel()},toggleIsDone:function(e){var t=this.checklist,r=t.items.findIndex((function(t){return t.id===e}));t.items[r].isDone=!t.items[r].isDone,this.$emit("updeteChecklist",t),this.cancel()}},components:{itemPreview:sr}},nr=ir,ar=Object(l["a"])(nr,Qt,Xt,!1,null,null,null),or=ar.exports,cr=r("bc3a"),ur=r.n(cr),dr=function(){var e=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,s,i,n,a;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r="ivnbeged",s="denden",i="https://api.cloudinary.com/v1_1/".concat(s,"/image/upload"),n=new FormData,n.append("file",t.target.files[0]),n.append("upload_preset",r),e.prev=6,e.next=9,ur.a.post(i,n);case 9:return a=e.sent,e.abrupt("return",a.data);case 13:e.prev=13,e.t0=e["catch"](6),console.error("ERROR!",e.t0);case 16:case"end":return e.stop()}}),e,null,[[6,13]])})));return function(t){return e.apply(this,arguments)}}(),lr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"add-members",on:{click:function(e){e.stopPropagation()}}},[r("h3",[e._v("Members")]),r("input",{directives:[{name:"model",rawName:"v-model",value:e.memberSearch,expression:"memberSearch"}],attrs:{type:"text",placeholder:"Serach members"},domProps:{value:e.memberSearch},on:{keyup:e.filter,input:function(t){t.target.composing||(e.memberSearch=t.target.value)}}}),r("ul",e._l(e.membersToShow,(function(t){return r("li",{key:t._id,staticClass:"flex"},[r("span",{staticClass:"card-member flex",on:{click:function(r){return e.toggleMember(t._id)}}},[r("avatar",{attrs:{size:35,username:t.username}}),r("span",[e._v(" "+e._s(t.username)+" ")])],1),e.isMember(t._id)?r("i",{staticClass:"fas fa-check"}):e._e()])})),0)])},pr=[],fr={props:{boardMembers:Array,cardMembers:Array},data:function(){return{memberSearch:null,filterTxt:""}},computed:{membersToShow:function(){var e=this;return this.boardMembers.filter((function(t){return t.username.toLowerCase().includes(e.filterTxt.toLowerCase())}))}},methods:{filter:function(){this.filterTxt=this.memberSearch},toggleMember:function(e){this.$emit("updateMembers",e)},isMember:function(e){return this.cardMembers.some((function(t){return t._id===e}))}},components:{avatar:Y.a}},mr=fr,hr=Object(l["a"])(mr,lr,pr,!1,null,null,null),gr=hr.exports,br={data:function(){return{card:null,isPopUp:!1,currPopUp:null,isLoading:!1}},computed:{loggedinUser:function(){return this.$store.getters.loggedinUser},localTime:function(){return new Date(this.card.dueDate).toLocaleDateString()},boardMembers:function(){return this.board.isPrivate?this.board.members:We.deepCopy(this.$store.getters.users)},board:function(){return We.deepCopy(this.$store.getters.currBoard)},getCurrGroup:function(){var e=this,t=this.board.groups.find((function(t){return t.cards.some((function(t){return t.id===e.card.id}))}));return t},getCurrPosition:function(){var e=this;return this.getCurrGroup.cards.findIndex((function(t){return t.id===e.card.id}))+1},move:function(){return"move"===this.currPopUp},dueDate:function(){return"duedate"===this.currPopUp},labels:function(){return"labels"===this.currPopUp},checklist:function(){return"checklist"===this.currPopUp},cover:function(){return"cover"===this.currPopUp},headerStyle:function(){return{background:this.card.style.headerColor}},attachments:function(){return this.card.attachments},isAddMembers:function(){return"member"===this.currPopUp},cardActivities:function(){var e=this;return this.board.activities.filter((function(t){if(t.card&&t.card.id===e.card.id)return t}))},labelsSelected:function(){if(!this.card.labels)return[];var e=this.card.labels.map((function(e){return e.id}));return this.board.labels.filter((function(t){return e.includes(t.id)}))}},methods:{updateBoard:function(){var e=this.board;this.$store.dispatch({type:"updateBoard",board:e})},updateAttachments:function(e){var t=We.deepCopy(this.card);t.attachments=e,this.updateCard(t)},emitClose:function(){this.$emit("close")},deleteCard:function(){var e,t=this,r=this.board;r.groups.forEach((function(r){var s=r.cards.findIndex((function(e){return e.id===t.card.id}));-1!==s&&(e=r.cards[s].title,r.cards.splice(s,1))})),this.$store.dispatch({type:"updateBoard",board:r}),this.emitClose(),this.addActivity("deleted the card '".concat(e,"'"))},emitMove:function(){this.currPopUp="move",this.isPopUp=!0},setDate:function(){this.currPopUp="duedate"},removeDate:function(){var e=We.deepCopy(this.card);e.dueDate=null,this.updateCard(e),this.card=e,this.addActivity("removed the due date from the card '".concat(e.title,"'"),e)},setNewDate:function(e){var t=We.deepCopy(this.card);this.card.dueDate&&delete this.card.dueDate,t.dueDate=e,this.updateCard(t),this.card=t,this.closePopup(),this.addActivity("added due date to the card '".concat(t.title,"'"),t)},openLabels:function(){this.currPopUp="labels",this.isPopUp=!0},updateLabelTitle:function(e,t){var r=this.board,s=r.labels.findIndex((function(t){return t.id===e}));-1!==s&&(r.labels[s].title=t),this.$store.dispatch({type:"updateBoard",board:r})},addChecklist:function(){this.currPopUp="checklist",this.isPopUp=!0},moveCard:function(e){this.$store.commit({type:"updateCardStatus",status:e});var t=this.board;if(this.$store.dispatch({type:"updateBoard",board:t}),this.isPopUp=!1,e.startGroup!==e.endGroup){var r=t.groups.find((function(t){return t.id===e.endGroup})).title;this.addActivity("moved card '".concat(this.card.title,"' to '").concat(r,"'"),this.card)}},onUpload:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return t.isLoading=!0,r.next=3,dr(e);case 3:s=r.sent,i={id:We.makeId(),name:s.original_filename,format:s.format,src:s.url},t.card.attachments||(t.card.attachments=[]),n=We.deepCopy(t.card),n.attachments.push(i),t.isLoading=!1,t.updateCard(n),t.card=n;case 11:case"end":return r.stop()}}),r)})))()},openCoverPicker:function(){this.$refs["color-picker"]._data.showPicker=!0},updateCover:function(e){this.card.style.headerColor=e;var t=this.board;this.$store.dispatch({type:"updateBoard",board:t})},onAddMembers:function(){this.currPopUp="member",this.isPopUp=!0},updateMembers:function(e){var t=this.card,r=t.members.findIndex((function(t){return t._id===e})),s=this.$store.getters.users.find((function(t){return t._id===e}));if(-1===r){var i={_id:s._id,username:s.username,imgUrl:s.imgUrl};t.members.push(i)}else t.members.splice(r,1);this.updateCard(t);var n=-1===r?"added":"removed";this.addActivity("".concat(n," ").concat(s.username," to a card"),t,null,this.loggedinUser)},cardMembers:function(){return this.card.members||(this.card.members=[]),this.card.members},closePopup:function(){this.isPopUp=!1,this.currPopUp=""},cloneCard:function(){var e=this,t=We.deepCopy(this.card);t.id=We.makeId();var r=this.board,s=r.groups.findIndex((function(t){return t.cards.some((function(t){return t.id===e.card.id}))}));-1!==s&&(r.groups[s].cards.push(t),this.$store.dispatch({type:"updateBoard",board:r}))},addActivity:function(e,t){var r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:this.loggedinUser;this.$store.commit("setEmptyActivity");var i=We.deepCopy(this.$store.getters.emptyActivity);if(i.txt=e,i.comment=r,i.byMember=We.deepCopy(s),i.createdAt=Date.now(),t){var n=this.$route.params.cardId?"":"/card/".concat(t.id);console.log(t),i.card={id:t.id,title:t.title,url:n}}var a=this.board;a.activities.unshift(i),this.updateBoard(a)},updeteChecklist:function(e){var t=this.card,r=t.checklistGroup.findIndex((function(t){return t.id===e.id}));-1!==r&&t.checklistGroup.splice(r,1,e),this.updateCard(t)},deleteChecklist:function(e){var t=this.card,r=t.checklistGroup.findIndex((function(t){return t.id===e}));-1!==r&&t.checklistGroup.splice(r,1),this.updateCard(t)},updateCard:function(e){var t=this.board;t.groups.forEach((function(t){var r=t.cards.findIndex((function(t){return t.id===e.id}));-1!==r&&t.cards.splice(r,1,e)})),this.$store.dispatch({type:"updateBoard",board:t}),this.card=e}},created:function(){var e=this.$route.params.cardId;this.$store.commit({type:"setCurrCard",cardId:e}),this.card=this.$store.getters.currCard,this.$store.dispatch("loadUsers")},destroyed:function(){this.$store.commit({type:"updateCurrCard",card:null}),this.card=null},components:{cardActivity:He,cardMove:yt,datePicker:Dt,addMembers:gr,cardAttachments:tt,cardCover:jt,cardLabels:Ft,avatar:Y.a,popUp:Ie,checkBox:Te,addChecklist:Kt,cardChecklist:or}},vr=br,yr=Object(l["a"])(vr,ye,Ce,!1,null,null,null),Cr=yr.exports,_r=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"board-menu flex f-col"},[r("i",{staticClass:"fas fa-times close-btn",on:{click:e.emitClose}}),r("h2",[e._v("Menu")]),r("hr"),r("div",{staticClass:"board-actions flex f-col"},[r("span",{on:{click:e.toggleBg}},[e._v("Change Background")]),e.isBg?r("div",{staticClass:"background flex f-center wrap"},[e._l(e.colors,(function(t,s){return r("div",{key:t,class:"bgc bgc-"+(s+1),on:{click:function(r){return e.emitChange(t)}}})})),e._l(e.srcs,(function(t,s){return r("div",{key:t},[r("img",{attrs:{src:t},on:{click:function(t){return e.emitChange(""+s)}}})])}))],2):e._e(),r("span",{on:{click:e.emitDeleteBoard}},[e._v("Delete Board")]),r("span",{on:{click:e.toggleSearch}},[e._v("Search Cards")])]),e.isSearch?r("board-search",{attrs:{board:e.board},on:{filter:e.emitFilter}}):e._e(),r("hr"),r("h3",[e._v("Activities")]),r("div",{staticClass:"activity"},e._l(e.board.activities,(function(t){return r("activity-preview",{key:t.id,attrs:{activity:t},on:{click:e.openCard}})})),1)],1)},kr=[],xr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"filter"},[r("hr"),r("input",{directives:[{name:"model",rawName:"v-model",value:e.filterBy.txt,expression:"filterBy.txt"}],attrs:{type:"text",placeholder:"Search..."},domProps:{value:e.filterBy.txt},on:{input:[function(t){t.target.composing||e.$set(e.filterBy,"txt",t.target.value)},e.debSearch]}}),r("hr"),r("div",{staticClass:"members"},[r("h3",{on:{click:e.toggleMembers}},[e._v("By Members")]),e.isMembers?r("ul",e._l(e.board.members,(function(t){return r("li",{key:t._id,on:{click:function(r){return e.setFilterMember(t._id)}}},[r("div",{staticClass:"member"},[e._v(e._s(t.username))])])})),0):e._e()]),r("hr"),r("div",{staticClass:"labels flex f-col f-center"},[r("h3",{on:{click:e.toggleLabels}},[e._v("By Labels")]),e.isLabels?r("ul",e._l(e.board.labels,(function(t){return r("li",{key:t.id,on:{click:function(r){return e.setFilterLabel(t.id)}}},[r("div",{staticClass:"label flex f-center",style:"background-color:"+t.color},[e._v(" "+e._s(t.title)+" ")])])})),0):e._e()])])},wr=[],jr={props:{board:Object},data:function(){return{filterBy:{txt:"",membersIds:[],labelsIds:[]},debTimeout:null,isMembers:!1,isLabels:!1}},methods:{emitFilter:function(){console.log(this.filterBy),this.$emit("filter",We.deepCopy(this.filterBy))},debSearch:function(){var e=this;this.debTimeout&&clearTimeout(this.debTimeout),this.debTimeout=setTimeout((function(){return e.emitFilter()}),500)},toggleMembers:function(){this.isMembers=!this.isMembers},toggleLabels:function(){this.isLabels=!this.isLabels},setFilterMember:function(e){if(this.filterBy.membersIds.includes(e)){var t=this.filterBy.membersIds.findIndex((function(t){return t===e}));-1!==t&&this.filterBy.membersIds.splice(t,1)}else this.filterBy.membersIds.push(e);this.emitFilter()},setFilterLabel:function(e){if(this.filterBy.labelsIds.includes(e)){var t=this.filterBy.labelsIds.findIndex((function(t){return t===e}));-1!==t&&this.filterBy.labelsIds.splice(t,1)}else this.filterBy.labelsIds.push(e);this.emitFilter()}}},Tr=jr,$r=Object(l["a"])(Tr,xr,wr,!1,null,null,null),Br=$r.exports,Pr={props:{board:Object},data:function(){return{isBg:!1,isSearch:!1,colors:["rgb(46, 121, 186)","rgb(72, 171, 200)","rgb(106, 188, 114)","rgb(98, 149, 70)","rgb(132, 99, 154)","rgb(191, 98, 143)","rgb(164, 76, 56)","rgb(202, 146, 71)"],srcs:[r("fa43"),r("55b3"),r("5882"),r("7b78"),r("7387"),r("2307")]}},methods:{toggleBg:function(){this.isBg=!this.isBg},toggleSearch:function(){this.isSearch=!this.isSearch},emitClose:function(){this.$emit("close")},emitChange:function(e){this.$emit("changeBgc",e)},emitDeleteBoard:function(){confirm("Are you sure?")&&this.$emit("deleteBoard",this.board._id)},openCard:function(){},emitFilter:function(e){this.$emit("filter",e)}},created:function(){},components:{activityPreview:Le,boardSearch:Br}},Er=Pr,Dr=Object(l["a"])(Er,_r,kr,!1,null,null,null),Ir=Dr.exports,Sr=r("fa43"),Ur=r.n(Sr),Ar=r("55b3"),Or=r.n(Ar),Mr=r("5882"),Gr=r.n(Mr),Rr=r("7b78"),Lr=r.n(Rr),Nr=r("7387"),zr=r.n(Nr),Fr=r("2307"),Hr=r.n(Fr),qr={data:function(){return{isDetails:!1,isAddingGroup:!1,newGroupTitle:"",isScroll:!1,bgSrcs:[Ur.a,Or.a,Gr.a,Lr.a,zr.a,Hr.a],isMenu:!1,filterBy:null}},methods:{toggleMenu:function(){this.isMenu=!this.isMenu},goBack:function(){document.body.querySelector(".screen").style.display="none",this.$router.go(-1)},closeDetails:function(){this.isDetails=!1,this.$router.push("/board/".concat(this.board._id)),document.body.querySelector(".screen").style.display="none"},addCard:function(e,t){var r=this.getEmptyCard();r.title=e,r.byMember=this.$store.getters.loggedinUser,r.createdAt=Date.now();var s=this.board,i=this.board.groups.find((function(e){return e.id===t}));i.cards.push(r),this.updateBoard(s),this.addActivity(" added the card '".concat(r.title,"'"),r)},updateCard:function(e){var t=this.board;t.groups.forEach((function(t){var r=t.cards.findIndex((function(t){return t.id===e.id}));-1!==r&&t.cards.splice(r,1,e)})),this.updateBoard(t)},deleteCard:function(e){var t,r=this.board;r.groups.forEach((function(r){var s=r.cards.findIndex((function(t){return t.id===e}));-1!==s&&(t=r.cards[s].title,r.cards.splice(s,1))})),this.updateBoard(r),this.addActivity("deleted the card '".concat(t,"'"))},updateGroup:function(e){var t=this.board,r=t.groups.findIndex((function(t){return t.id===e.id}));t.groups.splice(r,1,e),this.updateBoard(t)},deleteGroup:function(e){var t=this.board,r=t.groups.findIndex((function(t){return t.id===e}));t.groups.splice(r,1),this.updateBoard(t),this.addActivity("deleted a group")},newGroup:function(){var e=this.getEmptyGroup();e.title=this.newGroupTitle;var t=this.board;t.groups.push(e),this.updateBoard(t),this.closeAddGroup(),this.addActivity("added a group")},getEmptyCard:function(){return this.$store.commit("setEmptyCard"),this.$store.getters.emptyCard},getEmptyGroup:function(){return this.$store.commit("setEmptyGroup"),this.$store.getters.emptyGroup},addGroup:function(){this.isAddingGroup=!0},closeAddGroup:function(){this.isAddingGroup=!1,this.newGroupTitle=""},updateBoard:function(e){console.log(e),this.$store.dispatch({type:"updateBoard",board:e}),b.emit("updateBoard",e)},updateboardUsers:function(e){var t=this.board,r=t.members.findIndex((function(t){return t._id===e})),s=this.$store.getters.users.find((function(t){return t._id===e}));if(-1===r){var i={_id:s._id,username:s.username,imgUrl:s.imgUrl};t.members.push(i)}else t.members.splice(r,1);this.updateBoard(t);var n=-1===r?"added ".concat(s.username," to the board"):"removed ".concat(s.username," from the board");this.addActivity(n)},updateBoardTitle:function(e){var t=this.board;t.title=e,this.updateBoard(t)},changeBgc:function(e){var t=We.deepCopy(this.board);e.includes("rgb")?t.style.background=e:t.style.background="url(".concat(this.bgSrcs[+e],")"),this.updateBoard(t)},changePrivacy:function(e){var t=We.deepCopy(this.board);t.isPrivate="private"===e,this.updateBoard(t),this.addActivity("changed the board privacy to ".concat(e))},deleteBoard:function(e){var t=this;this.$store.dispatch("deleteBoard",e),setTimeout((function(){t.$router.push("/board")}),200)},addActivity:function(e,t){this.$store.commit("setEmptyActivity");var r=We.deepCopy(this.$store.getters.emptyActivity);r.txt=e,r.byMember=We.deepCopy(this.$store.getters.loggedinUser),r.createdAt=Date.now();var s=this.$route.path;t&&(r.card={id:t.id,title:t.title,url:s+"/card/".concat(t.id)});var i=this.board;i.activities.unshift(r),this.updateBoard(i)},filter:function(e){this.filterBy=e},updateBoardSocket:function(e){console.log(e),this.$store.dispatch({type:"updateBoard",board:e})}},computed:{board:function(){return this.$store.getters.currBoard&&(b.emit("board-topic",this.$store.getters.currBoard._id),console.log(this.$store.getters.currBoard._id)),We.deepCopy(this.$store.getters.currBoard)},users:function(){return this.$store.getters.users},user:function(){return this.$store.getters.loggedinUser},boardStyle:function(){return{background:"".concat(this.board.style.background)}}},watch:{"$route.params":function(){this.$route.params.cardId?this.isDetails=!0:this.isDetails=!1},"$store.getters.loggedinUser":function(){"guest"===this.$store.getters.loggedinUser._id&&this.board.isPrivate&&this.$router.push("/board")}},mounted:function(){},created:function(){var e=this;this.$store.dispatch("loadUsers"),this.$route.params.cardId&&(this.isDetails=!0);var t=this.$route.params.boardId;this.$store.dispatch({type:"loadBoard",boardId:t}),setTimeout((function(){"guest"===e.$store.getters.loggedinUser._id&&e.board.isPrivate&&e.$router.push("/board")}),500),b.on("boardUpdate",this.updateBoardSocket)},destroyed:function(){b.off("boardUpdate",this.updateBoard),this.$store.dispatch({type:"loadBoard",boardId:null})},components:{group:ae,boardHeader:ve,cardDetails:Cr,draggable:J.a,boardMenu:Ir}},Jr=qr,Vr=Object(l["a"])(Jr,F,H,!1,null,null,null),Wr=Vr.exports,Kr=function(){var e=this,t=e.$createElement,r=e._self._c||t;return r("section",{staticClass:"login"},[r("form",{staticClass:"flex f-col f-center",on:{submit:function(t){return t.preventDefault(),e.loginOrSignup(t)}}},[r("h2",[e._v(e._s(e.titleTxt)+":")]),r("h2",{staticClass:"red"},[e._v(e._s(e.msg))]),e.isSignup?r("input",{directives:[{name:"model",rawName:"v-model",value:e.userToEdit.username,expression:"userToEdit.username"}],attrs:{type:"text",placeholder:"Full name"},domProps:{value:e.userToEdit.username},on:{input:function(t){t.target.composing||e.$set(e.userToEdit,"username",t.target.value)}}}):e._e(),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userToEdit.email,expression:"userToEdit.email"}],attrs:{type:"text",placeholder:"Email"},domProps:{value:e.userToEdit.email},on:{input:function(t){t.target.composing||e.$set(e.userToEdit,"email",t.target.value)}}}),r("input",{directives:[{name:"model",rawName:"v-model",value:e.userToEdit.password,expression:"userToEdit.password"}],attrs:{type:"text",placeholder:"Password"},domProps:{value:e.userToEdit.password},on:{input:function(t){t.target.composing||e.$set(e.userToEdit,"password",t.target.value)}}}),r("button",[e._v(e._s(e.btnTxt))])]),e._v(" OR "),r("hr"),r("router-link",{attrs:{to:e.to}},[e._v(e._s(e.linkTxt))])],1)},Qr=[],Xr=(r("ac1f"),r("1276"),{data:function(){return{userToEdit:{},isSignup:!1,msg:""}},computed:{titleTxt:function(){return this.isSignup?"Sign up for your account":"Log in to your account"},btnTxt:function(){return this.isSignup?"Sign up":"Continue"},linkTxt:function(){return this.isSignup?"Already have a Trililo account? Log in":"Sign up for an account"},to:function(){return this.isSignup?"/login":"/signup"}},methods:{getUserToEdit:function(){return{username:"Dadi Gamadi",email:"dadi@gamadi.com",password:"gAmadi123"}},loginOrSignup:function(){this.isSignup?this.signup():this.login()},login:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.prev=0,delete e.userToEdit.username,t.next=4,e.$store.dispatch({type:"login",userCred:e.userToEdit});case 4:r=t.sent,r&&e.$router.push("/board"),t.next=12;break;case 8:t.prev=8,t.t0=t["catch"](0),e.msg="Invalid email or password",e.$router.push("/login");case 12:case"end":return t.stop()}}),t,null,[[0,8]])})))()},signup:function(){var e=this;return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if(e.userToEdit.username&&e.userToEdit.password&&e.userToEdit.email){t.next=3;break}return e.msg="Please enter full name, email and password!",t.abrupt("return");case 3:return t.next=5,e.$store.dispatch({type:"signup",userCred:JSON.parse(JSON.stringify(e.userToEdit))});case 5:r=t.sent,r&&e.$router.push("/board");case 7:case"end":return t.stop()}}),t)})))()}},created:function(){var e=this.$route.path.split("/");"signup"===e[e.length-1]?this.isSignup=!0:this.isSignup=!1,this.userToEdit=this.getUserToEdit(),this.msg=""},watch:{"$route.path":function(){var e=this.$route.path.split("/");"signup"===e[e.length-1]?this.isSignup=!0:this.isSignup=!1,this.userToEdit=this.getUserToEdit()}}}),Yr=Xr,Zr=Object(l["a"])(Yr,Kr,Qr,!1,null,null,null),es=Zr.exports;i["default"].use(B["a"]);var ts=[{path:"/",name:"home",component:P["default"]},{path:"/board",name:"board-list",component:z},{path:"/board/:boardId",name:"board-details",component:Wr,children:[{path:"card/:cardId",name:"card-details",component:Cr}]},{path:"/login",name:"login",component:es},{path:"/signup",name:"signup",component:es}],rs=new B["a"]({mode:"hash",routes:ts}),ss=rs,is="/api/",ns=ur.a.create({withCredentials:!0}),as={get:function(e,t){return os(e,"GET",t)},post:function(e,t){return os(e,"POST",t)},put:function(e,t){return os(e,"PUT",t)},delete:function(e,t){return os(e,"DELETE",t)}};function os(e){return cs.apply(this,arguments)}function cs(){return cs=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r,s,i,n=arguments;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return r=n.length>1&&void 0!==n[1]?n[1]:"get",s=n.length>2&&void 0!==n[2]?n[2]:null,e.prev=2,e.next=5,ns({url:"".concat(is).concat(t),method:r,data:s});case 5:return i=e.sent,e.abrupt("return",i.data);case 9:throw e.prev=9,e.t0=e["catch"](2),401===e.t0.response.status&&ss.push("/"),console.log("Had issues ".concat(r,"ing to server"),e.t0),e.t0;case 14:case"end":return e.stop()}}),e,null,[[2,9]])}))),cs.apply(this,arguments)}var us={login:hs,logout:ys,signup:bs,getUsers:ls,getById:ps,remove:fs,update:ms,getGuest:ds};function ds(){return{_id:"guest",username:"Guest"+We.getRandomInt(1,1e3),email:"guest@guesti.com",password:"guest",imgUrl:"@/assets/imgs/guest.png"}}function ls(){return as.get("user")}function ps(e){return as.get("user/".concat(e))}function fs(e){return as.delete("user/".concat(e))}function ms(e){return as.put("user/".concat(e._id),e)}function hs(e){return gs.apply(this,arguments)}function gs(){return gs=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,as.post("auth/login",t);case 2:return r=e.sent,e.abrupt("return",_s(r));case 4:case"end":return e.stop()}}),e)}))),gs.apply(this,arguments)}function bs(e){return vs.apply(this,arguments)}function vs(){return vs=Object(I["a"])(regeneratorRuntime.mark((function e(t){var r;return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,as.post("auth/signup",t);case 2:return r=e.sent,e.abrupt("return",_s(r));case 4:case"end":return e.stop()}}),e)}))),vs.apply(this,arguments)}function ys(){return Cs.apply(this,arguments)}function Cs(){return Cs=Object(I["a"])(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){while(1)switch(e.prev=e.next){case 0:return e.next=2,as.post("auth/logout");case 2:sessionStorage.clear();case 3:case"end":return e.stop()}}),e)}))),Cs.apply(this,arguments)}function _s(e){return sessionStorage.setItem("user",JSON.stringify(e)),e}var ks=us.getGuest();sessionStorage.user&&(ks=JSON.parse(sessionStorage.user));var xs={state:{loggedinUser:ks,users:[]},getters:{users:function(e){return e.users},loggedinUser:function(e){var t=e.loggedinUser?e.loggedinUser:us.getGuest();return{_id:t._id,username:t.username,imgUrl:t.imgUrl}},isLogin:function(e){return e.isLogin}},mutations:{setUser:function(e,t){var r=t.user;e.loggedinUser=r},setUsers:function(e,t){var r=t.users;e.users=r},removeUser:function(e,t){var r=t.userId;e.users=e.users.filter((function(e){return e._id!==r}))}},actions:{login:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,i=t.userCred,r.next=4,us.login(i);case 4:return n=r.sent,s({type:"setUser",user:n}),r.abrupt("return",n);case 7:case"end":return r.stop()}}),r)})))()},signup:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,i=t.userCred,r.next=4,us.signup(i);case 4:return n=r.sent,s({type:"setUser",user:n}),r.abrupt("return",n);case 7:case"end":return r.stop()}}),r)})))()},logout:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,us.logout();case 3:return r({type:"setUsers",users:[]}),r({type:"setUser",user:null}),t.abrupt("return");case 6:case"end":return t.stop()}}),t)})))()},loadUsers:function(e){return Object(I["a"])(regeneratorRuntime.mark((function t(){var r,s;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return r=e.commit,t.next=3,us.getUsers();case 3:s=t.sent,r({type:"setUsers",users:s});case 5:case"end":return t.stop()}}),t)})))()},removeUser:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,i=t.userId,r.next=4,us.remove(i);case 4:s({type:"removeUser",userId:i});case 5:case"end":return r.stop()}}),r)})))()},updateUser:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,i=t.user,r.next=4,us.update(i);case 4:i=r.sent,s({type:"setUser",user:i});case 6:case"end":return r.stop()}}),r)})))()}}},ws={query:js,getById:Ts,remove:$s,save:Bs,emptyBoard:Ps,emptyGroup:Es,emptyCard:Ds,emptyActivity:Is};function js(e){var t="?id=".concat(e);return as.get("board".concat(t))}function Ts(e){return as.get("board/".concat(e))}function $s(e){return as.delete("board/".concat(e))}function Bs(e){return e._id?as.put("board/".concat(e._id),e):as.post("board",e)}function Ps(){return{title:"",byMember:{},isPrivate:!0,style:{background:"url(".concat(r("2307"),")")},members:[],groups:[{id:We.makeId()+"",title:"To Do",cards:[],style:{headerColor:""}},{id:We.makeId()+"",title:"In Progress",cards:[],style:{headerColor:""}},{id:We.makeId()+"",title:"Done",cards:[],style:{headerColor:""}}],activities:[],labels:[{id:"l101",color:"#61bd4f",title:"a"},{id:"l102",color:"#f2d600",title:"b"},{id:"l103",color:"#ff9f1a",title:"c"},{id:"l104",color:"#eb5a46",title:"d"},{id:"l105",color:"#c377e0",title:"e"},{id:"l106",color:"#0079bf",title:"f"}]}}function Es(){return{id:We.makeId(),title:"",cards:[],style:{headerColor:"#ffffff"}}}function Ds(){return{id:We.makeId(),title:"",description:"",createdAt:"",byMember:"",style:{headerColor:"#d1d1d1"}}}function Is(){return{id:We.makeId(),txt:"",createdAt:"",comment:"",byMember:{_id:"",username:"",imgUrl:""},card:{id:"",title:"",url:""}}}var Ss={state:{boards:null,currBoard:null,emptyGroup:null,emptyActivity:null},getters:{boards:function(e){return We.deepCopy(e.boards)},currBoard:function(e){return e.currBoard},emptyGroup:function(e){return e.emptyGroup},emptyActivity:function(e){return e.emptyActivity}},mutations:{setBoards:function(e,t){e.boards=t},deleteBoard:function(e,t){var r=e.boards.findIndex((function(e){return e._id===t}));e.boards.splice(r,1)},addNewBoard:function(e,t){e.boards.push(t)},updateBoard:function(e,t){var r=t.board;e.currBoard=r},setEmptyGroup:function(e){var t=We.deepCopy(ws.emptyGroup());e.emptyGroup=t},setEmptyActivity:function(e){var t=We.deepCopy(ws.emptyActivity());e.emptyActivity=t}},actions:{loadBoards:function(e){var t=this;return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,r.next=3,ws.query(t.getters.loggedinUser._id);case 3:i=r.sent,s("setBoards",i);case 5:case"end":return r.stop()}}),r)})))()},loadBoard:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,i,n;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:if(s=e.commit,i=t.boardId,i){r.next=6;break}n=null,r.next=9;break;case 6:return r.next=8,ws.getById(i);case 8:n=r.sent;case 9:s({type:"updateBoard",board:n});case 10:case"end":return r.stop()}}),r)})))()},updateBoard:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,i;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,i=t.board,s({type:"updateBoard",board:i}),r.next=5,ws.save(i);case 5:return r.abrupt("return",r.sent);case 6:case"end":return r.stop()}}),r)})))()},deleteBoard:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function r(){var s;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=e.commit,r.next=3,ws.remove(t);case 3:s({type:"deleteBoard",boardId:t});case 4:case"end":return r.stop()}}),r)})))()},createNewBoard:function(e,t){return Object(I["a"])(regeneratorRuntime.mark((function r(){var s,i,n,a;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return s=ws.emptyBoard(),i=e.getters.loggedinUser,s.title=t,"guest"===i._id?s.isPrivate=!1:(s.byMember=i,s.members.push(i)),n=ws.emptyActivity(),n.byMember=i,n.createdAt=Date.now(),n.txt="created the board",delete n.card,s.activities.push(n),r.next=12,ws.save(s);case 12:return a=r.sent,e.commit("addNewBoard",a),r.abrupt("return",a);case 15:case"end":return r.stop()}}),r)})))()}}},Us={state:{currCard:null,emptyCard:null},getters:{currCard:function(e){return e.currCard},emptyCard:function(e){return e.emptyCard},activities:function(e){return e.currCard.activities}},mutations:{setCurrCard:function(e,t){var r=t.cardId;this.getters.currBoard.groups.forEach((function(t){var s=t.cards.find((function(e){return e.id===r}));s&&(e.currCard=s)}))},updateCurrCard:function(e,t){var r=t.card;e.currCard=r},setEmptyCard:function(e){var t=We.deepCopy(ws.emptyCard());e.emptyCard=t},updateCardStatus:function(e,t){var r=t.status;if(!(r.startGroup===r.endGroup&&r.endPos===r.startPos||r.startGroup===r.endGroup&&!r.endPos&&0!==r.endPos)){var s=this.getters.currBoard,i=s.groups.findIndex((function(e){return e.id===r.startGroup}));s.groups[i].cards.splice(r.startPos,1);var n=s.groups.findIndex((function(e){return e.id===r.endGroup}));r.endPos||0===r.endPos?s.groups[n].cards.splice(r.endPos,0,e.currCard):s.groups[n].cards.push(e.currCard)}}},actions:{}},As=r("2f62");i["default"].use(As["a"]);var Os=new As["a"].Store({state:{},mutations:{},actions:{},modules:{boardStore:Ss,userStore:xs,cardStore:Us}}),Ms=(r("3c61"),r("5c96")),Gs=r.n(Ms),Rs=(r("0fae"),r("b2d6")),Ls=r.n(Rs),Ns=r("5b6c"),zs=r.n(Ns),Fs=r("c1df"),Hs=r.n(Fs);i["default"].use(zs.a),i["default"].use(Gs.a,{locale:Ls.a}),i["default"].config.productionTip=!1,i["default"].prototype.moment=Hs.a,new i["default"]({router:ss,store:Os,render:function(e){return e(T)}}).$mount("#app")},5882:function(e,t,r){e.exports=r.p+"img/bg3.2879accc.jpg"},7387:function(e,t,r){e.exports=r.p+"img/bg5.6abc4d89.jpg"},"7b78":function(e,t,r){e.exports=r.p+"img/bg4.b15bd4da.jpg"},"8dd1":function(e,t,r){"use strict";var s=r("3edc"),i=r.n(s);t["default"]=i.a},fa43:function(e,t,r){e.exports=r.p+"img/bg1.4094cab1.jpg"}});
//# sourceMappingURL=app.fdb0ba48.js.map